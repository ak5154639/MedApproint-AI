{% extends 'appointApp/layout.html' %}

{% block subtitile %}
    Doctor Registration
{% endblock %}

{% block body %}
<div class="col-lg-6 wow fadeInUp" data-wow-delay="0.5s">
    <div class="bg-light rounded h-100 d-flex align-items-center p-5">
        <form action="/register-doctor" id="register-doctor" method="GET">
            <div class="row g-3">
                <div class="col-12 col-sm-6">
                    <input type="text" class="form-control border-0" name="name" placeholder="Your Name" style="height: 55px;">
                </div>
                <div class="col-12 col-sm-6">
                    <input type="email" class="form-control border-0" name="email" placeholder="Your Email" style="height: 55px;">
                </div>
                <div class="col-12 col-sm-6">
                    <input type="text" class="form-control border-0" name="number" placeholder="Your Mobile" style="height: 55px;">
                </div>
                <div class="col-12 col-sm-6">
                    <input type="text" class="form-control border-0" name="pincode" id="pincodeField" placeholder="Your Address Pincode" style="height: 55px;">
                </div>
                <div class="col-12 col-sm-6">
                    <div class="date" id="date" data-target-input="nearest">
                        <input type="text" name="date-of-birth"
                            class="form-control border-0 datetimepicker-input"
                            placeholder="Choose Date of Birth" data-target="#date" data-toggle="datetimepicker" style="height: 55px;">
                    </div>
                </div>
                <div class="col-12 col-sm-6">
                    <select name="gender" class="form-select border-0" style="height: 55px;">
                        <option selected>Choose Gender</option>
                        <option value="M">Male</option>
                        <option value="F">Female</option>
                        <option value="O">Other</option>
                    </select>
                </div>

                <!-- Date Input -->
                <!-- <div class="col-12 col-sm-6">
                    <div class="date" id="date" data-target-input="nearest">
                        <input type="text"
                            class="form-control border-0 datetimepicker-input"
                            placeholder="Choose Date" data-target="#date" data-toggle="datetimepicker" style="height: 55px;">
                    </div>
                </div>
                <div class="col-12 col-sm-6">
                    <div class="time" id="time" data-target-input="nearest">
                        <input type="text"
                            class="form-control border-0 datetimepicker-input"
                            placeholder="Choose Date" data-target="#time" data-toggle="datetimepicker" style="height: 55px;">
                    </div>
                </div> -->
                <!-- Date input ends here -->
                <!-- <div class="col-12">
                    <textarea class="form-control border-0" rows="5" placeholder="Describe yourself."></textarea>
                </div> -->
                <div class="col-12">
                    <button class="btn btn-primary w-100 py-3" id="submit" type="submit">Register Patient</button>
                </div>
            </div>
        </form>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", ()=>{
        document.querySelector("#submit").addEventListener("click", (e)=>{
            e.preventDefault();
        })

    })
    document.querySelector("#pincodeField").addEventListener('input', (event) =>{
        const pincode=event.target.value;
        const url = "https://api.data.gov.in/resource/9115b89c-7a80-4f54-9b06-21086e0f0bd7?api-key=579b464db66ec23bdd00000151c891a7ec044801538b2d8ce338ec6d&format=json&filters%5Bpincode%5D="+pincode;
        fetch(url, {
        method: "GET",
        withCredentials: true,
        headers: {
            "X-Auth-Token": "579b464db66ec23bdd00000151c891a7ec044801538b2d8ce338ec6d",
            "Content-Type": "application/json"
        },
        
        })
        .then(resp => resp.json())
        .then(function(data) {
            console.log(data);
        })
        .catch(function(error) {
            console.log(error);
        });
    })
</script>
{% endblock %}